df <- data.frame(M)
names(df) <- c("year", "tickets", "applicants")
rstudio::viewData(M)
M <- matrix(
data=c(
2013, 1, 1486,
2013, 2,  480,
2013, 3,  207,
2013, 4,  122,
2012, 1, 1221,
2012, 2,  461,
2012, 3,  258,
2011, 1, 1286,
2011, 2,  500,
2010, 1, 1693,
2008, 1, 1350,
2007, 1, 1048,
2006, 1,  841,
2005, 1,  791,
2004, 1,  740,
2003, 1,  638,
2002, 1,  529,
2001, 1,  556,
2000, 1,  583
),
ncol=3, byrow=TRUE)
df <- data.frame(M)
names(df) <- c("year", "tickets", "applicants")
rstudio::viewData(M)
rstudio::viewData(df)
rstudio::viewData(df)
total <- sapply(df$applicants ~ df$year, sum)
total <- aggregate(applicants ~ year, data=df, sum)
total
merge(df, total, by=year)
merge(df, total, by="year")
total <- aggregate(applicants ~ year, data=df, sum)
names(total[, 2]) <- "total"
merge(df, total, by="year")
rstudio::viewData(df)
merge(df, total, by="year")
names(total[, 2]) <- "total"
total
names(total)
total[,2]
names(total$applicants) <- "total"
total
names(total <- c("year", "total"))
names(total) <- c("year", "total")
head(total)
total <- aggregate(applicants ~ year, data=df, sum)
names(total$applicants) <- "total"
merge(df, total, by="year")
total <- aggregate(applicants ~ year, data=df, sum)
names(total) <- c("year", "total")
df <- merge(df, total, by="year")
head)df
head(df)
total <- aggregate(applicants ~ year, data=df, sum)
names(total) <- c("year", "totalApplicants")
df <- merge(df, total, by="year")
df$totalTickets <- df$tickets * df$totalApplicants
df$prob <- df$tickets / df$totalTickets
rstudio::viewData(df)
totalTickets <- aggregate(applicants * tickets ~ year, data=df, sum)
totalTickets <- aggregate(applicants * tickets ~ year, data=df, sum)
names(totalTickets) <- c("year", "totalTickets")
df <- merge(df, totalTickets, by="year")
rstudio::viewData(df)
df$prob <- df$tickets / df$totalTickets
rstudio::viewData(df)
M <- matrix(
data=c(
2013, 1, 1486,
2013, 2,  480,
2013, 3,  207,
2013, 4,  122,
2012, 1, 1221,
2012, 2,  461,
2012, 3,  258,
2011, 1, 1286,
2011, 2,  500,
2010, 1, 1693,
2008, 1, 1350,
2007, 1, 1048,
2006, 1,  841,
2005, 1,  791,
2004, 1,  740,
2003, 1,  638,
2002, 1,  529,
2001, 1,  556,
2000, 1,  583
),
ncol=3, byrow=TRUE)
df <- data.frame(M)
names(df) <- c("year", "tickets", "applicants")
totalApplicants <- aggregate(applicants ~ year, data=df, sum)
names(totalApplicants) <- c("year", "totalApplicants")
df <- merge(df, totalApplicants, by="year")
totalTickets <- aggregate(applicants * tickets ~ year, data=df, sum)
names(totalTickets) <- c("year", "totalTickets")
df <- merge(df, totalTickets, by="year")
rstudio::viewData(df)
df$prob <- df$tickets / df$totalTickets
rstudio::viewData(df)
rstudio::viewData(df)
df$applicants[df$year=="2013" & df$tickets==1]
df$totalApplicants[df$year=="2013" & df$tickets==1]
install.packages("sna")
g <- rgrahp(5)
require(sna)
g <- rgraph(5)
g
plot(g)
gplot(g)
g <- rgraph(10)
g
gplot(g)
gplot3d(g)
g <- rgraph(100, mode="graph")
gplot(g)
g <- rgraph(25, mode="graph")
gplot(g)
g
gplot(g, mode="graph")
gplot(g, gmode="graph")
gplot(g, gmode="graph", mode="kamadakawaii")
gplot(g, gmode="graph", mode="kamadakawai")
?rbern
?rbinom
?matric
?matrix
r <- 1e2
c <- 1e2
size <- r * c
x <- rbinom(size / 2, 1, 0.5)
z <- rnorm(size / 2)
X <- matrix(x, nrow=r, ncol=c / 2)
Z <- matrix(z, nrow=r, ncol=c / 2)
TestData <- data.frame(X, Z)
View(TestData)
View(TestData)
names <- as.character(seq(1, c))
names
names <- paste("x", as.character(seq(1, c), sep="")
names <- paste("x", as.character(seq(1, c)), sep="")
names
r <- 1e2
c <- 1e2
chalf <- c / 2
size <- r * chalf
x <- rbinom(size, 1, 0.5)
z <- rnorm(size)
X <- matrix(x, nrow=r, ncol=chalf)
Z <- matrix(z, nrow=r, ncol=chalf)
TestData <- data.frame(X, Z)
names(TestData) <- paste("x", as.character(seq(1, c)), sep="")
View(TestData)
?Sys.time
system.time(save("e:\TEST\TestData.RData"))
system.time(save("h:\CHSE\TEST\TestData.RData"))
system.time(save("e:/TEST/TestData.RData"))
system.time(save("h:/CHSE/TEST/TestData.RData"))
?save
system.time(save(TestData, file="e:/TEST/TestData.RData"))
system.time(save(TestData, file="h:/CHSE/TEST/TestData.RData"))
time.server <- system.time(save(TestData, file="e:/TEST/TestData.RData"))
time.Hdrive <- system.time(save(TestData, file="h:/CHSE/TEST/TestData.RData"))
time.server
names(time.server)
system.time(read(TestData, file="e:/TEST/TestData.RData"))
?save
system.time(load(TestData, file="e:/TEST/TestData.RData"))
system.time(load(file="e:/TEST/TestData.RData"))
pbirthday(n= 17, classes = 365, coincident = 2)
pbirthday(n= 21, classes = 365, coincident = 2)
pbirthday(n= 27, classes = 365, coincident = 2)
pbirthday(n= 24, classes = 365, coincident = 2)
qbirthday(prob=0.5, classes=365, coincident=2)
?qbirthday
friendship_data_frame <- read.table('http://sna.stanford.edu/sna_R_labs/data/Krack-High-Tec-edgelist-Friendship.txt')
View(friendship_data_frame)
friendship_data_frame <- read.table('http://sna.stanford.edu/sna_R_labs/data/Krack-High-Tec-edgelist-Friendship.txt')
colnames(friendship_data_frame) <- c('ego', 'alter', 'friendship_tie')
head(friendship_data_frame)
require(stats)
by(warpbreaks[, 1:2], warpbreaks[,"tension"], summary)
by(warpbreaks[, 1],   warpbreaks[, -1],       summary)
by(warpbreaks, warpbreaks[,"tension"],
function(x) lm(breaks ~ wool, data = x))
head(warpbreaks)
tmp <- with(warpbreaks,
by(warpbreaks, tension,
function(x) lm(breaks ~ wool, data = x)))
sapply(tmp, coef)
tmp
?sapply
coef(tmp)
?coef
?sample
n <- 200  # Number of bibs
i <- 5  # Number of races
S <- sample(seq(1:n), n)
S
?matrix
matrix(nrow=2, ncol=2)
n <- 200  # Number of bibs
r <- 5  # Number of races
S <- matirx(nrow=n, ncol=r)
for (i in 1:r) {
S[, i] <- sample(seq(1:n), n)
}
n <- 200  # Number of bibs
r <- 5  # Number of races
S <- matrix(nrow=n, ncol=r)
for (i in 1:r) {
S[, i] <- sample(seq(1:n), n)
}
head(S)
n <- 200  # Number of bibs
r <- 5  # Number of races
S <- matrix(nrow=n, ncol=r, dimnames=c("Draw", "Race"))
for (i in 1:r) {
S[, i] <- sample(seq(1:n), n)
}
S <- data.frame(S)
names(S) <- c("Race1", "Race2", "Race3", "Race4", "Race5")
n <- 200  # Number of bibs
r <- 5  # Number of races
S <- matrix(nrow=n, ncol=r, dimnames=list("Draw", "Race"))
for (i in 1:r) {
S[, i] <- sample(seq(1:n), n)
}
S <- data.frame(S)
names(S) <- c("Race1", "Race2", "Race3", "Race4", "Race5")
list("Draw", "Race")
n <- 200  # Number of bibs
r <- 5  # Number of races
S <- matrix(nrow=n, ncol=r)
for (i in 1:r) {
S[, i] <- sample(seq(1:n), n)
}
S <- data.frame(S)
names(S) <- c("Race1", "Race2", "Race3", "Race4", "Race5")
View(S)
write.table(S, "RandomBibNumbers.txt", sep="\t")
setwd()
getwd()
?write.table
?read.table
require(RCurl, quietly=TRUE)
require(xtable, quietly=TRUE)
require(ggplot2, quietly=TRUE)
require(scales, quietly=TRUE)
require(RColorBrewer, quietly=TRUE)
df <- read.csv("Medicare_Provider_Charge_Inpatient_DRG100_FY2011.csv", header=TRUE, sep=",")
setwd("C:/Users/chanb/Dropbox/Sandbox/MedicareProviderCharge")
df <- read.csv("Medicare_Provider_Charge_Inpatient_DRG100_FY2011.csv", header=TRUE, sep=",")
mdc <- read.table("CMS-1588-F TABLE 5.txt", skip=2, sep="\t")
View(mdc)
mdc <- read.table("CMS-1588-F TABLE 5.txt", skip=2, sep="\t", col.names=c("drg", "postacute", "specialpay", mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
mdc <- read.table("CMS-1588-F TABLE 5.txt", skip=2, sep="\t", col.names=c("drg", "postacute", "specialpay", "mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
View(mdc)
mdc <- read.table("CMS-1588-F TABLE 5.txt", skip=2, nrows=752, sep="\t", col.names=c("drg", "postacute", "specialpay", "mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
View(mdc)
mdc <- read.table("CMS-1588-F TABLE 5.txt", skip=2, nrows=751, sep="\t", col.names=c("drg", "postacute", "specialpay", "mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
View(mdc)
mdc <- seq(0, 25)
mdclab <- c(
"Pre-MDC",
"Nervous System",
"Eye",
"Ear, Nose, Mouth And Throat",
"Respiratory System",
"Circulatory System",
"Digestive System",
"Hepatobiliary System And Pancreas",
"Musculoskeletal System And Connective Tissue",
"Skin, Subcutaneous Tissue And Breast",
"Endocrine, Nutritional And Metabolic System",
"Kidney And Urinary Tract",
"Male Reproductive System",
"Female Reproductive System",
"Pregnancy, Childbirth And Puerperium",
"Newborn And Other Neonates (Perinatal Period)",
"Blood and Blood Forming Organs and Immunological Disorders",
"Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"Infectious and Parasitic DDs",
"Mental Diseases and Disorders",
"Alcohol/Drug Use or Induced Mental Disorders",
"Injuries, Poison And Toxic Effect of Drugs",
"Burns",
"Factors Influencing Health Status",
"Multiple Significant Trauma",
"Human Immunodeficiency Virus Infection"
)
mdc <- data.frame(mdc, mdclab)
View(mdc)
drg <- read.table("CMS-1588-F TABLE 5.txt", skip=2, nrows=751, sep="\t", col.names=c("drg", "postacute", "specialpay", "mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
?merge
drg <- merge(drg, mdc, by=mdc)
drg <- merge(drg, mdc, by=c("mdc"))
View(drg)
drg <- read.table("CMS-1588-F TABLE 5.txt", skip=2, nrows=751, sep="\t", col.names=c("drg", "postacute", "specialpay", "mdc", "type", "drglab", "drgwgt", "meanLOSg", "meanLOGa"))
View(drg)
?matrix
mdc <- matirx(
ncol=2,
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
mdc <- matrix(
ncol=2,
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
View(mdc)
mdc <- matrix(
ncol=2,
byrow=TRUE,
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
View(mdc)
mdc <- data.frame(mdc, names=c("mdc", "mdclab"))
drg <- merge(drg, mdc, by=c("mdc"))
View(mdc)
?data.frame
mdc <- matrix(
ncol=2,
byrow=TRUE,
dimnames=c("mdc", "mdclab")
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
mdc <- data.frame(mdc)
mdc <- matrix(
ncol=2,
byrow=TRUE,
dimnames=c("mdc", "mdclab"),
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
mdc <- data.frame(mdc)
?data.frame
mdc <- matrix(
ncol=2,
byrow=TRUE,
data=c(
"PRE", "Pre-MDC",
"01" , "Nervous System",
"02" , "Eye",
"03" , "Ear, Nose, Mouth And Throat",
"04" , "Respiratory System",
"05" , "Circulatory System",
"06" , "Digestive System",
"07" , "Hepatobiliary System And Pancreas",
"08" , "Musculoskeletal System And Connective Tissue",
"09" , "Skin, Subcutaneous Tissue And Breast",
"10" , "Endocrine, Nutritional And Metabolic System",
"11" , "Kidney And Urinary Tract",
"12" , "Male Reproductive System",
"13" , "Female Reproductive System",
"14" , "Pregnancy, Childbirth And Puerperium",
"15" , "Newborn And Other Neonates (Perinatal Period)",
"16" , "Blood and Blood Forming Organs and Immunological Disorders",
"17" , "Myeloproliferative DDs (Poorly Differentiated Neoplasms)",
"18" , "Infectious and Parasitic DDs",
"19" , "Mental Diseases and Disorders",
"20" , "Alcohol/Drug Use or Induced Mental Disorders",
"21" , "Injuries, Poison And Toxic Effect of Drugs",
"22" , "Burns",
"23" , "Factors Influencing Health Status",
"24" , "Multiple Significant Trauma",
"25" , "Human Immunodeficiency Virus Infection"
),
)
mdc <- data.frame(mdc)
names(mdc) <- c("mdc", "mdclab")
View(mdc)
drg <- merge(drg, mdc, by=c("mdc"))
View(drg)
